<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [testing][1]
-   [Flowee][2]
    -   [Parameters][3]
    -   [Examples][4]
    -   [hub][5]
    -   [indexer][6]
    -   [meta][7]
    -   [monitor][8]
    -   [blockchain][9]
    -   [blockNotification][10]
    -   [transaction][11]
    -   [regTest][12]
    -   [disconnect][13]
-   [MetaService][14]
    -   [Parameters][15]
    -   [getVersion][16]
    -   [getAvailableIndexers][17]
-   [BlockchainService][18]
    -   [Parameters][19]
    -   [getBlockChainInfo][20]
        -   [Examples][21]
    -   [getBestBlockHash][22]
        -   [Parameters][23]
        -   [Examples][24]
    -   [getBlockCount][25]
        -   [Parameters][26]
        -   [Examples][27]
    -   [getBlock][28]
        -   [Parameters][29]
        -   [Examples][30]
-   [BlockNotificationService][31]
    -   [Parameters][32]
    -   [subscribe][33]
        -   [Parameters][34]
    -   [unsubscribe][35]
        -   [Parameters][36]
-   [TransactionService][37]
    -   [Parameters][38]
    -   [getTransaction][39]
        -   [Parameters][40]
    -   [getAddress][41]
        -   [Parameters][42]
    -   [sendTransaction][43]
        -   [Parameters][44]
-   [MonitorService][45]
    -   [Parameters][46]
    -   [subscribeAddress][47]
        -   [Parameters][48]
    -   [unsubscribeAddress][49]
        -   [Parameters][50]
-   [RegTestService][51]
    -   [Parameters][52]
    -   [generateBlock][53]
        -   [Parameters][54]
-   [Client][55]
    -   [Parameters][56]
    -   [Examples][57]
    -   [disconnect][58]
    -   [send][59]
        -   [Parameters][60]
        -   [Examples][61]
    -   [sendOnly][62]
        -   [Parameters][63]
        -   [Examples][64]
    -   [addHandler][65]
        -   [Parameters][66]
        -   [Examples][67]
-   [Tags][68]
    -   [End][69]
    -   [ServiceId][70]
    -   [MessageId][71]
    -   [SequenceStart][72]
    -   [LastInSequence][73]
    -   [Ping][74]
    -   [Pong][75]
    -   [RequestId][76]
-   [Message][77]
    -   [Parameters][78]
    -   [Examples][79]
    -   [header][80]
    -   [body][81]
    -   [toBuffer][82]
    -   [fromBuffer][83]
        -   [Parameters][84]

## testing

**Extends Client**

Testing

## Flowee

Flowee

### Parameters

-   `opts`   (optional, default `{}`)

### Examples

```javascript
const Flowee = require('flowee-js-pure'); 

async function main() {
  // Connect
  let flowee = new Flowee();

  // Get version of Flowee we are connected to
  try {
    let version = await flowee.meta.version();
  catch(err) {
    console.log(err);
  }
}

main();
```

### hub

Instance of the Hub Client

Returns **[Client][85]** Flowee Hub

### indexer

Instance of the Indexer Client

Returns **[Client][85]** Flowee Indexer

### meta

Meta Service

Returns **[MetaService][86]** 

### monitor

Address Monitor Service

Returns **[MonitorService][87]** 

### blockchain

Blockchain Service

Returns **[BlockchainService][88]** 

### blockNotification

Block Notification Service

Returns **[BlockNotificationService][89]** 

### transaction

Transaction Service

Returns **[TransactionService][90]** 

### regTest

Test Service

Returns **TestService** 

### disconnect

Disconnect from hub and indexer

## MetaService

**Extends Service**

Meta Service that provides information about Flowee.

### Parameters

-   `instance` **[Flowee][91]** Instance of Flowee

### getVersion

Get the version of Flowee the server is using

Returns **[object][92]** String containing version

### getAvailableIndexers

Get available Flowee indexers

Returns **[object][92]** The indexers that are available

## BlockchainService

**Extends Service**

Blockchain information service.

### Parameters

-   `instance` **[Flowee][91]** Instance of Flowee

### getBlockChainInfo

Get Blockchain Information

#### Examples

```javascript
let blockChainInfo = await flowee.blockchain.getBlockChainInfo();
```

### getBestBlockHash

Get the best block hash available

#### Parameters

-   `body`  

#### Examples

```javascript
let bestBlockHash = await flowee.blockchain.getBestBlockHash();
```

Returns **[Buffer][93]** The block hash

### getBlockCount

Get Block height

#### Parameters

-   `body`  

#### Examples

```javascript
let blockCount = await flowee.blockchain.getBlockCount();
```

Returns **[number][94]** The block height

### getBlock

Get Block header

#### Parameters

-   `param`  (Number or Hash) The block height

#### Examples

```javascript
let blockHeader = await flowee.blockchain.getBlockHeader(500000);
```

Returns **[number][94]** Object containing details about block

## BlockNotificationService

**Extends Service**

Service that provides capability for notifying when new blocks are
detected on the Blockchain.

### Parameters

-   `instance` **[Flowee][91]** Instance of Flowee

### subscribe

Subscribe to block notifications

#### Parameters

-   `callback`  
-   `Callback` **[function][95]** to execute when a block is found

Returns **[number][94]** A Callback ID that can be used to unsubcribe

### unsubscribe

Unsubscribe from block notifications

#### Parameters

-   `callbackId`  
-   `The` **[number][94]** Callback ID you wish to unsubscribe

## TransactionService

**Extends Service**

Transaction lookup and sending service.

### Parameters

-   `instance` **[Flowee][91]** Instance of Flowee

### getTransaction

Get a transaction from the network

#### Parameters

-   `txId`  

Returns **[object][92]** response from Flowee

### getAddress

Get an address from the network

#### Parameters

-   `address`  

Returns **[object][92]** response from Flowee

### sendTransaction

Broadcast a transaction to the network

#### Parameters

-   `transaction` **[Buffer][93]** data

Returns **[object][92]** response from Flowee

## MonitorService

**Extends Service**

Service that provides capability to monitor an address for:
a) Mempool notifications
b) Confirmation notifications
c) Double-spend notifications

### Parameters

-   `instance` **[Flowee][91]** Instance of Flowee

### subscribeAddress

Subscribe to an address for:
a) Mempool notifications
b) Confirmation notifications
c) Double-spend notifications

#### Parameters

-   `address` **[Buffer][93]** Output script hashed with SHA256 (TODO support Base58, BCH Addresses)
-   `callback` **[function][95]** A callback function that will trigger when message found

Returns **[object][92]** Can be passed to the unsubscribeAddress function

### unsubscribeAddress

Unsubscribe notifications from an address

#### Parameters

-   `subscribedAddress` **[object][92]** The return value of subscribeAddress

## RegTestService

**Extends Service**

Flowee's RegTest Service

### Parameters

-   `instance` **[Flowee][91]** Instance of Flowee

### generateBlock

Generates a block on RegTest Network

#### Parameters

-   `params`  
-   `Object` **[object][92]** containing "address" (Buffer) and "amount" (number)

Returns **[Buffer][93]** The newly generated block's hash

## Client

A Flowee Client (can be either a Hub or an Indexer)

### Parameters

-   `opts`  
-   `Options` **[object][92]** for the Client

### Examples

```javascript
let hubClient = new Client({
  address: "api.flowee.org:1235"
});

// Get Hub Version 
let version = await hubClient.send({ [Tags.ServiceId]: 0, [Tags.MessageId]: 0 });

let indexerClient = new Client({
  address: "api.flowee.org:1234"
});

// Get available indexers 
let indexers = await indexerClient.send({ [Tags.ServiceId]: 19, [Tags.MessageId]: 0 });
```

### disconnect

Disconnect this client

### send

Make a call to Flowee
This should be used with messages that expect a reply

#### Parameters

-   `header` **[object][92]** An object containing the header (should be enums)
-   `body` **[object][92]** An object containing the body (should be enums)
-   `opts` **[object][92]** An object containing options for the request (optional, default `{}`)

#### Examples

```javascript
let res = await flowee.send({ [Tags.ServiceId]: 4, [Tags.MessageId]: 0 }, {
  2: address,
  6: amount
});
```

Returns **[Promise][96]&lt;[Message][97]>** Resolves with the reply or rejects if error

### sendOnly

Make a call to Flowee
This should be used with messages that DONT expect a reply

#### Parameters

-   `header` **[object][92]** An object containing the header (should be enums)
-   `body` **[object][92]** An object containing the body (should be enums)
-   `opts` **[object][92]** An object containing options for the request (optional, default `{}`)

#### Examples

```javascript
flowee.send({ [Tags.ServiceId]: 4, [Tags.MessageId]: 0 }, {
  2: address,
  6: amount
});
```

### addHandler

Add listener that will process replies that match filter

#### Parameters

-   `filter`  A object that contains headers
-   `callback`  Callback when matches

#### Examples

```javascript
flowee.addHandler({ [Tags.ServiceId]: 0, [Tags.MessageId]: 2}, (msg) => {
  msg.extraInformation = "You can transform the message payload here";
  return msg;
});
```

## Tags

Flowee Message Packet Header Tags
Values 0 through 10 are reserved by Flowee.

### End

End Header Tag (Value: 0)

### ServiceId

Service ID Tag (Value: 1)

### MessageId

Message ID tag (Value: 2)

### SequenceStart

Sequence Start Tag (Value: 3)

### LastInSequence

Last In Sequence tag (Value: 4)

### Ping

Ping tag (Value: 5)

### Pong

Pong tag (Value: 6)

### RequestId

Request ID tag (Value: 11)

## Message

Flowee Message Packet

### Parameters

-   `header` **[object][92]** Header Object containing enumerated values (optional, default `{}`)
-   `body` **[object][92]** Body Object containing enumerated values (optional, default `{}`)

### Examples

```javascript
new Message({
  [Tags.ServiceId]: 0
  [Tags.MessageId]: 0
}, {
  0: "Example body param"
})
```

### header

Message Header Object)

### body

Message Body Object

### toBuffer

Convert to a message to a buffer

Returns **[Buffer][93]** Message as buffer

### fromBuffer

Convert from buffer to message

#### Parameters

-   `buffer`  

Returns **[Buffer][93]** Message

[1]: #testing

[2]: #flowee

[3]: #parameters

[4]: #examples

[5]: #hub

[6]: #indexer

[7]: #meta

[8]: #monitor

[9]: #blockchain

[10]: #blocknotification

[11]: #transaction

[12]: #regtest

[13]: #disconnect

[14]: #metaservice

[15]: #parameters-1

[16]: #getversion

[17]: #getavailableindexers

[18]: #blockchainservice

[19]: #parameters-2

[20]: #getblockchaininfo

[21]: #examples-1

[22]: #getbestblockhash

[23]: #parameters-3

[24]: #examples-2

[25]: #getblockcount

[26]: #parameters-4

[27]: #examples-3

[28]: #getblock

[29]: #parameters-5

[30]: #examples-4

[31]: #blocknotificationservice

[32]: #parameters-6

[33]: #subscribe

[34]: #parameters-7

[35]: #unsubscribe

[36]: #parameters-8

[37]: #transactionservice

[38]: #parameters-9

[39]: #gettransaction

[40]: #parameters-10

[41]: #getaddress

[42]: #parameters-11

[43]: #sendtransaction

[44]: #parameters-12

[45]: #monitorservice

[46]: #parameters-13

[47]: #subscribeaddress

[48]: #parameters-14

[49]: #unsubscribeaddress

[50]: #parameters-15

[51]: #regtestservice

[52]: #parameters-16

[53]: #generateblock

[54]: #parameters-17

[55]: #client

[56]: #parameters-18

[57]: #examples-5

[58]: #disconnect-1

[59]: #send

[60]: #parameters-19

[61]: #examples-6

[62]: #sendonly

[63]: #parameters-20

[64]: #examples-7

[65]: #addhandler

[66]: #parameters-21

[67]: #examples-8

[68]: #tags

[69]: #end

[70]: #serviceid

[71]: #messageid

[72]: #sequencestart

[73]: #lastinsequence

[74]: #ping

[75]: #pong

[76]: #requestid

[77]: #message

[78]: #parameters-22

[79]: #examples-9

[80]: #header

[81]: #body

[82]: #tobuffer

[83]: #frombuffer

[84]: #parameters-23

[85]: #client

[86]: #metaservice

[87]: #monitorservice

[88]: #blockchainservice

[89]: #blocknotificationservice

[90]: #transactionservice

[91]: #flowee

[92]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[93]: https://nodejs.org/api/buffer.html

[94]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[95]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[96]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[97]: #message
