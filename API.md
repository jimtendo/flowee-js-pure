<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Flowee][1]
    -   [Parameters][2]
    -   [Examples][3]
    -   [hub][4]
    -   [indexer][5]
    -   [meta][6]
    -   [monitor][7]
    -   [blockchain][8]
    -   [blockNotification][9]
    -   [transaction][10]
    -   [regTest][11]
-   [MetaService][12]
    -   [Parameters][13]
    -   [version][14]
    -   [getAvailableIndexers][15]
-   [BlockchainService][16]
    -   [Parameters][17]
    -   [getBlockChainInfo][18]
        -   [Examples][19]
    -   [getBestBlockHash][20]
        -   [Parameters][21]
        -   [Examples][22]
    -   [getBlockCount][23]
        -   [Parameters][24]
        -   [Examples][25]
-   [BlockNotificationService][26]
    -   [Parameters][27]
    -   [subscribe][28]
        -   [Parameters][29]
    -   [unsubscribe][30]
        -   [Parameters][31]
-   [TransactionService][32]
    -   [Parameters][33]
    -   [getTransaction][34]
        -   [Parameters][35]
    -   [sendTransaction][36]
        -   [Parameters][37]
-   [MonitorService][38]
    -   [Parameters][39]
    -   [subscribeAddress][40]
        -   [Parameters][41]
    -   [unsubscribeAddress][42]
        -   [Parameters][43]
-   [RegTestService][44]
    -   [Parameters][45]
    -   [generateBlock][46]
        -   [Parameters][47]
-   [Client][48]
    -   [Parameters][49]
    -   [Examples][50]
    -   [send][51]
        -   [Parameters][52]
        -   [Examples][53]
    -   [sendOnly][54]
        -   [Parameters][55]
        -   [Examples][56]
    -   [addHandler][57]
        -   [Parameters][58]
        -   [Examples][59]
-   [Tags][60]
    -   [End][61]
    -   [ServiceId][62]
    -   [MessageId][63]
    -   [SequenceStart][64]
    -   [LastInSequence][65]
    -   [Ping][66]
    -   [Pong][67]
    -   [RequestId][68]
-   [Message][69]
    -   [Parameters][70]
    -   [Examples][71]
    -   [setHeader][72]
        -   [Parameters][73]
    -   [getHeader][74]
        -   [Parameters][75]
    -   [toBuffer][76]
    -   [fromBuffer][77]
        -   [Parameters][78]

## Flowee

Flowee

### Parameters

-   `opts`   (optional, default `{}`)

### Examples

```javascript
const Flowee = require('flowee-js-pure'); 

async function main() {
  // Connect
  let flowee = new Flowee();

  // Get version of Flowee we are connected to
  try {
    let version = await flowee.meta.version();
  catch(err) {
    console.log(err);
  }
}

main();
```

### hub

Instance of the Hub Client

Returns **[Client][79]** Flowee Hub

### indexer

Instance of the Indexer Client

Returns **[Client][79]** Flowee Indexer

### meta

Meta Service

Returns **[MetaService][80]** 

### monitor

Address Monitor Service

Returns **[MonitorService][81]** 

### blockchain

Blockchain Service

Returns **[BlockchainService][82]** 

### blockNotification

Block Notification Service

Returns **[BlockNotificationService][83]** 

### transaction

Transaction Service

Returns **[TransactionService][84]** 

### regTest

Test Service

Returns **TestService** 

## MetaService

**Extends Service**

Meta Service that provides information about Flowee.

### Parameters

-   `instance` **[Flowee][85]** Instance of Flowee

### version

Get the version of Flowee the server is using

Returns **[object][86]** String containing version

### getAvailableIndexers

Get available Flowee indexers

Returns **[object][86]** The indexers that are available

## BlockchainService

**Extends Service**

Blockchain information service.

### Parameters

-   `instance` **[Flowee][85]** Instance of Flowee

### getBlockChainInfo

Get Blockchain Information

#### Examples

```javascript
let blockChainInfo = await flowee.blockchain.getBlockChainInfo();
```

### getBestBlockHash

Get the best block hash available

#### Parameters

-   `body`  

#### Examples

```javascript
let bestBlockHash = await flowee.blockchain.getBestBlockHash();
```

Returns **[Buffer][87]** The block hash

### getBlockCount

Get Block height

#### Parameters

-   `body`  

#### Examples

```javascript
let blockCount = await flowee.blockchain.getBlockCount();
```

Returns **[number][88]** The block height

## BlockNotificationService

**Extends Service**

Service that provides capability for notifying when new blocks are
detected on the Blockchain.

### Parameters

-   `instance` **[Flowee][85]** Instance of Flowee

### subscribe

Subscribe to block notifications

#### Parameters

-   `callback`  
-   `Callback` **[function][89]** to execute when a block is found

Returns **[number][88]** A Callback ID that can be used to unsubcribe

### unsubscribe

Unsubscribe from block notifications

#### Parameters

-   `callbackId`  
-   `The` **[number][88]** Callback ID you wish to unsubscribe

## TransactionService

**Extends Service**

Transaction lookup and sending service.

### Parameters

-   `instance` **[Flowee][85]** Instance of Flowee

### getTransaction

Get a transaction from the network

#### Parameters

-   `txId`  

Returns **[object][86]** response from Flowee

### sendTransaction

Broadcast a transaction to the network

#### Parameters

-   `transaction` **[Buffer][87]** data

Returns **[object][86]** response from Flowee

## MonitorService

**Extends Service**

Service that provides capability to monitor an address for:
a) Mempool notifications
b) Confirmation notifications
c) Double-spend notifications

### Parameters

-   `instance` **[Flowee][85]** Instance of Flowee

### subscribeAddress

Subscribe to an address for:
a) Mempool notifications
b) Confirmation notifications
c) Double-spend notifications

#### Parameters

-   `address` **[Buffer][87]** Output script hashed with SHA256 (TODO support Base58, BCH Addresses)
-   `callback` **[function][89]** A callback function that will trigger when message found

Returns **[object][86]** Can be passed to the unsubscribeAddress function

### unsubscribeAddress

Unsubscribe notifications from an address

#### Parameters

-   `subscribedAddress` **[object][86]** The return value of subscribeAddress

## RegTestService

**Extends Service**

Flowee's RegTest Service

### Parameters

-   `instance` **[Flowee][85]** Instance of Flowee

### generateBlock

Generates a block on RegTest Network

#### Parameters

-   `params`  
-   `Object` **[object][86]** containing "address" (Buffer) and "amount" (number)

Returns **[Buffer][87]** The newly generated block's hash

## Client

A Flowee Client (can be either a Hub or an Indexer)

### Parameters

-   `opts`  
-   `Options` **[object][86]** for the Client

### Examples

```javascript
let hubClient = new Client({
  address: "api.flowee.org:1235"
});

// Get Hub Version 
let version = await hubClient.send({ [Tags.ServiceId]: 0, [Tags.MessageId]: 0 });

let indexerClient = new Client({
  address: "api.flowee.org:1234"
});

// Get available indexers 
let indexers = await indexerClient.send({ [Tags.ServiceId]: 19, [Tags.MessageId]: 0 });
```

### send

Make a call to Flowee
This should be used with messages that expect a reply

#### Parameters

-   `header` **[object][86]** An object containing the header (should be enums)
-   `body` **[object][86]** An object containing the body (should be enums)
-   `opts` **[object][86]** An object containing options for the request (optional, default `{}`)

#### Examples

```javascript
let res = await flowee.send({ [Tags.ServiceId]: 4, [Tags.MessageId]: 0 }, {
  2: address,
  6: amount
});
```

Returns **[Promise][90]&lt;[Message][91]>** Resolves with the reply or rejects if error

### sendOnly

Make a call to Flowee
This should be used with messages that DONT expect a reply

#### Parameters

-   `header` **[object][86]** An object containing the header (should be enums)
-   `body` **[object][86]** An object containing the body (should be enums)
-   `opts` **[object][86]** An object containing options for the request (optional, default `{}`)

#### Examples

```javascript
flowee.send({ [Tags.ServiceId]: 4, [Tags.MessageId]: 0 }, {
  2: address,
  6: amount
});
```

### addHandler

Add listener that will process replies that match filter

#### Parameters

-   `filter`  A object that contains headers
-   `callback`  Callback when matches

#### Examples

```javascript
flowee.addHandler({ [Tags.ServiceId]: 0, [Tags.MessageId]: 2}, (msg) => {
  msg.extraInformation = "You can transform the message payload here";
  return msg;
});
```

## Tags

Flowee Message Packet Header Tags
Values 0 through 10 are reserved by Flowee.

### End

End Header Tag (Value: 0)

### ServiceId

Service ID Tag (Value: 1)

### MessageId

Message ID tag (Value: 2)

### SequenceStart

Sequence Start Tag (Value: 3)

### LastInSequence

Last In Sequence tag (Value: 4)

### Ping

Ping tag (Value: 5)

### Pong

Pong tag (Value: 6)

### RequestId

Request ID tag (Value: 11)

## Message

Flowee Message Packet

### Parameters

-   `header` **[object][86]** Header Object containing enumerated values (optional, default `null`)
-   `body` **[object][86]** Body Object containing enumerated values (optional, default `null`)

### Examples

```javascript
new Message({
  [Tags.ServiceId]: 0
  [Tags.MessageId]: 0
}, {
  0: "Example body param"
})
```

### setHeader

Set a header

#### Parameters

-   `tag`  The tag to set (enum value)
-   `value`  The value to assign

### getHeader

Get a header

#### Parameters

-   `tag`  The tag to use (enum value)

Returns **any** The value of the tag

### toBuffer

Convert to a message to a buffer

Returns **[Buffer][87]** Message as buffer

### fromBuffer

Convert from buffer to message

#### Parameters

-   `buffer`  

Returns **[Buffer][87]** Message

[1]: #flowee

[2]: #parameters

[3]: #examples

[4]: #hub

[5]: #indexer

[6]: #meta

[7]: #monitor

[8]: #blockchain

[9]: #blocknotification

[10]: #transaction

[11]: #regtest

[12]: #metaservice

[13]: #parameters-1

[14]: #version

[15]: #getavailableindexers

[16]: #blockchainservice

[17]: #parameters-2

[18]: #getblockchaininfo

[19]: #examples-1

[20]: #getbestblockhash

[21]: #parameters-3

[22]: #examples-2

[23]: #getblockcount

[24]: #parameters-4

[25]: #examples-3

[26]: #blocknotificationservice

[27]: #parameters-5

[28]: #subscribe

[29]: #parameters-6

[30]: #unsubscribe

[31]: #parameters-7

[32]: #transactionservice

[33]: #parameters-8

[34]: #gettransaction

[35]: #parameters-9

[36]: #sendtransaction

[37]: #parameters-10

[38]: #monitorservice

[39]: #parameters-11

[40]: #subscribeaddress

[41]: #parameters-12

[42]: #unsubscribeaddress

[43]: #parameters-13

[44]: #regtestservice

[45]: #parameters-14

[46]: #generateblock

[47]: #parameters-15

[48]: #client

[49]: #parameters-16

[50]: #examples-4

[51]: #send

[52]: #parameters-17

[53]: #examples-5

[54]: #sendonly

[55]: #parameters-18

[56]: #examples-6

[57]: #addhandler

[58]: #parameters-19

[59]: #examples-7

[60]: #tags

[61]: #end

[62]: #serviceid

[63]: #messageid

[64]: #sequencestart

[65]: #lastinsequence

[66]: #ping

[67]: #pong

[68]: #requestid

[69]: #message

[70]: #parameters-20

[71]: #examples-8

[72]: #setheader

[73]: #parameters-21

[74]: #getheader

[75]: #parameters-22

[76]: #tobuffer

[77]: #frombuffer

[78]: #parameters-23

[79]: #client

[80]: #metaservice

[81]: #monitorservice

[82]: #blockchainservice

[83]: #blocknotificationservice

[84]: #transactionservice

[85]: #flowee

[86]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[87]: https://nodejs.org/api/buffer.html

[88]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[89]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[90]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[91]: #message
