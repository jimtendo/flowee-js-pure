<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Flowee][1]
    -   [Parameters][2]
    -   [Examples][3]
    -   [meta][4]
    -   [monitor][5]
    -   [blockchain][6]
    -   [blockNotification][7]
    -   [transaction][8]
    -   [regTest][9]
    -   [send][10]
        -   [Parameters][11]
        -   [Examples][12]
    -   [sendOnly][13]
        -   [Parameters][14]
        -   [Examples][15]
    -   [addHandler][16]
        -   [Parameters][17]
        -   [Examples][18]
-   [MetaService][19]
    -   [Parameters][20]
    -   [version][21]
    -   [getAvailableIndexers][22]
    -   [ping][23]
-   [BlockchainService][24]
    -   [Parameters][25]
    -   [getBlockChainInfo][26]
        -   [Examples][27]
    -   [getBestBlockHash][28]
        -   [Parameters][29]
        -   [Examples][30]
    -   [getBlockCount][31]
        -   [Parameters][32]
        -   [Examples][33]
-   [BlockNotificationService][34]
    -   [Parameters][35]
    -   [subscribe][36]
        -   [Parameters][37]
    -   [unsubscribe][38]
        -   [Parameters][39]
-   [TransactionService][40]
    -   [Parameters][41]
    -   [getTransaction][42]
        -   [Parameters][43]
    -   [sendTransaction][44]
        -   [Parameters][45]
-   [MonitorService][46]
    -   [Parameters][47]
    -   [subscribeAddress][48]
        -   [Parameters][49]
    -   [unsubscribeAddress][50]
        -   [Parameters][51]
-   [RegTestService][52]
    -   [Parameters][53]
    -   [generateBlock][54]
        -   [Parameters][55]
-   [Header][56]
    -   [End][57]
    -   [ServiceId][58]
    -   [MessageId][59]
    -   [SequenceStart][60]
    -   [LastInSequence][61]
    -   [Ping][62]
    -   [Pong][63]
    -   [RequestId][64]
-   [Message][65]
    -   [Parameters][66]
    -   [Examples][67]
    -   [setHeader][68]
        -   [Parameters][69]
    -   [getHeader][70]
        -   [Parameters][71]
    -   [toBuffer][72]
    -   [fromBuffer][73]
        -   [Parameters][74]

## Flowee

Flowee

### Parameters

-   `opts`   (optional, default `{}`)

### Examples

```javascript
const Flowee = require('flowee-js-pure'); 

async function main() {
  // Connect
  let flowee = new Flowee();

  // Get version of Flowee we are connected to
  try {
    let version = await flowee.meta.version();
  catch(err) {
    console.log(err);
  }
}

main();
```

### meta

Meta Service

Returns **[MetaService][75]** 

### monitor

Address Monitor Service

Returns **[MonitorService][76]** 

### blockchain

Blockchain Service

Returns **[BlockchainService][77]** 

### blockNotification

Block Notification Service

Returns **[BlockNotificationService][78]** 

### transaction

Transaction Service

Returns **[TransactionService][79]** 

### regTest

Test Service

Returns **TestService** 

### send

Make a call to Flowee
This should be used with messages that expect a reply

#### Parameters

-   `header` **[object][80]** An object containing the header (should be enums)
-   `body` **[object][80]** An object containing the body (should be enums)
-   `opts` **[object][80]** An object containing options for the request (optional, default `{}`)

#### Examples

```javascript
let res = await flowee.send({ [Tags.ServiceId]: 4, [Tags.MessageId]: 0 }, {
  2: address,
  6: amount
});
```

Returns **[Promise][81]&lt;[Message][82]>** Resolves with the reply or rejects if error

### sendOnly

Make a call to Flowee
This should be used with messages that DONT expect a reply

#### Parameters

-   `header` **[object][80]** An object containing the header (should be enums)
-   `body` **[object][80]** An object containing the body (should be enums)
-   `opts` **[object][80]** An object containing options for the request (optional, default `{}`)

#### Examples

```javascript
flowee.send({ [Tags.ServiceId]: 4, [Tags.MessageId]: 0 }, {
  2: address,
  6: amount
});
```

### addHandler

Add listener that will process replies that match filter

#### Parameters

-   `filter`  A object that contains headers
-   `callback`  Callback when matches

#### Examples

```javascript
flowee.addHandler({ [Tags.ServiceId]: 0, [Tags.MessageId]: 2}, (msg) => {
  msg.extraInformation = "You can transform the message payload here";
  return msg;
});
```

## MetaService

**Extends Service**

Meta Service that provides information about Flowee.

### Parameters

-   `instance` **[Flowee][83]** Instance of Flowee

### version

Get the version of Flowee the server is using

Returns **[object][80]** String containing version

### getAvailableIndexers

Get available Flowee indexers

Returns **[object][80]** The indexers that are available

### ping

Send a ping message to Flowee
(You should never need to call this manually)

## BlockchainService

**Extends Service**

Blockchain information service.

### Parameters

-   `instance` **[Flowee][83]** Instance of Flowee

### getBlockChainInfo

Get Blockchain Information

#### Examples

```javascript
let blockChainInfo = await flowee.blockchain.getBlockChainInfo();
```

### getBestBlockHash

Get the best block hash available

#### Parameters

-   `body`  

#### Examples

```javascript
let bestBlockHash = await flowee.blockchain.getBestBlockHash();
```

Returns **[Buffer][84]** The block hash

### getBlockCount

Get Block height

#### Parameters

-   `body`  

#### Examples

```javascript
let blockCount = await flowee.blockchain.getBlockCount();
```

Returns **[number][85]** The block height

## BlockNotificationService

**Extends Service**

Service that provides capability for notifying when new blocks are
detected on the Blockchain.

### Parameters

-   `instance` **[Flowee][83]** Instance of Flowee

### subscribe

Subscribe to block notifications

#### Parameters

-   `callback`  
-   `Callback` **[function][86]** to execute when a block is found

Returns **[number][85]** A Callback ID that can be used to unsubcribe

### unsubscribe

Unsubscribe from block notifications

#### Parameters

-   `callbackId`  
-   `The` **[number][85]** Callback ID you wish to unsubscribe

## TransactionService

**Extends Service**

Transaction lookup and sending service.

### Parameters

-   `instance` **[Flowee][83]** Instance of Flowee

### getTransaction

Get a transaction from the network

#### Parameters

-   `txId`  

Returns **[object][80]** response from Flowee

### sendTransaction

Broadcast a transaction to the network

#### Parameters

-   `transaction` **[Buffer][84]** data

Returns **[object][80]** response from Flowee

## MonitorService

**Extends Service**

Service that provides capability to monitor an address for:
a) Mempool notifications
b) Confirmation notifications
c) Double-spend notifications

### Parameters

-   `instance` **[Flowee][83]** Instance of Flowee

### subscribeAddress

Subscribe to an address for:
a) Mempool notifications
b) Confirmation notifications
c) Double-spend notifications

#### Parameters

-   `address` **[Buffer][84]** Output script hashed with SHA256 (TODO support Base58, BCH Addresses)
-   `callback` **[function][86]** A callback function that will trigger when message found

Returns **[object][80]** Can be passed to the unsubscribeAddress function

### unsubscribeAddress

Unsubscribe notifications from an address

#### Parameters

-   `subscribedAddress` **[object][80]** The return value of subscribeAddress

## RegTestService

**Extends Service**

Flowee's RegTest Service

### Parameters

-   `instance` **[Flowee][83]** Instance of Flowee

### generateBlock

Generates a block on RegTest Network

#### Parameters

-   `params`  
-   `Object` **[object][80]** containing "address" (Buffer) and "amount" (number)

Returns **[Buffer][84]** The newly generated block's hash

## Header

Flowee Message Packet Header Tags
Values 0 through 10 are reserved by Flowee.

### End

End Header Tag (Value: 0)

### ServiceId

Service ID Tag (Value: 1)

### MessageId

Message ID tag (Value: 2)

### SequenceStart

Sequence Start Tag (Value: 3)

### LastInSequence

Last In Sequence tag (Value: 4)

### Ping

Ping tag (Value: 5)

### Pong

Pong tag (Value: 6)

### RequestId

Request ID tag (Value: 11)

## Message

Flowee Message Packet

### Parameters

-   `header` **[object][80]** Header Object containing enumerated values (optional, default `null`)
-   `body` **[object][80]** Body Object containing enumerated values (optional, default `null`)

### Examples

```javascript
new Message({
  [Tags.ServiceId]: 0
  [Tags.MessageId]: 0
}, {
  0: "Example body param"
})
```

### setHeader

Set a header

#### Parameters

-   `tag`  The tag to set (enum value)
-   `value`  The value to assign

### getHeader

Get a header

#### Parameters

-   `tag`  The tag to use (enum value)

Returns **any** The value of the tag

### toBuffer

Convert to a message to a buffer

Returns **[Buffer][84]** Message as buffer

### fromBuffer

Convert from buffer to message

#### Parameters

-   `buffer`  

Returns **[Buffer][84]** Message

[1]: #flowee

[2]: #parameters

[3]: #examples

[4]: #meta

[5]: #monitor

[6]: #blockchain

[7]: #blocknotification

[8]: #transaction

[9]: #regtest

[10]: #send

[11]: #parameters-1

[12]: #examples-1

[13]: #sendonly

[14]: #parameters-2

[15]: #examples-2

[16]: #addhandler

[17]: #parameters-3

[18]: #examples-3

[19]: #metaservice

[20]: #parameters-4

[21]: #version

[22]: #getavailableindexers

[23]: #ping

[24]: #blockchainservice

[25]: #parameters-5

[26]: #getblockchaininfo

[27]: #examples-4

[28]: #getbestblockhash

[29]: #parameters-6

[30]: #examples-5

[31]: #getblockcount

[32]: #parameters-7

[33]: #examples-6

[34]: #blocknotificationservice

[35]: #parameters-8

[36]: #subscribe

[37]: #parameters-9

[38]: #unsubscribe

[39]: #parameters-10

[40]: #transactionservice

[41]: #parameters-11

[42]: #gettransaction

[43]: #parameters-12

[44]: #sendtransaction

[45]: #parameters-13

[46]: #monitorservice

[47]: #parameters-14

[48]: #subscribeaddress

[49]: #parameters-15

[50]: #unsubscribeaddress

[51]: #parameters-16

[52]: #regtestservice

[53]: #parameters-17

[54]: #generateblock

[55]: #parameters-18

[56]: #header

[57]: #end

[58]: #serviceid

[59]: #messageid

[60]: #sequencestart

[61]: #lastinsequence

[62]: #ping-1

[63]: #pong

[64]: #requestid

[65]: #message

[66]: #parameters-19

[67]: #examples-7

[68]: #setheader

[69]: #parameters-20

[70]: #getheader

[71]: #parameters-21

[72]: #tobuffer

[73]: #frombuffer

[74]: #parameters-22

[75]: #metaservice

[76]: #monitorservice

[77]: #blockchainservice

[78]: #blocknotificationservice

[79]: #transactionservice

[80]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[81]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[82]: #message

[83]: #flowee

[84]: https://nodejs.org/api/buffer.html

[85]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[86]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function
